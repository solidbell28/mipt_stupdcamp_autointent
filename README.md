## Yandex × MIPT Studcamp Project for AutoIntent: New Augmentation Methods

This repository contains the code and experiments for new data augmentation methods developed for the autointent
library.

---

### Repository structure

```
├── experiments
│   ├── experiment_1.ipynb
│   ├── experiment_2.ipynb
│   ├── ...
│   └── experiment_6.ipynb
├── src
│   ├── experiment_1
│   │   ├── [file_a.py]
│   │   ├── [file_b.py]
│   │   └── ...
│   ├── experiment_2
│   │   ├── [file_a.py]
│   │   ├── [file_b.py]
│   │   └── ...
|   |
|   ├── ...
|   |
│   └── experiment_6
│       ├── [file_a.py]
│       ├── [file_b.py]
│       └── ...
└── README.md
```

- **experiments/**: Jupyter notebooks with the experiments and results.
- **src/**: Python source code implementing new augmentation methods for autointent library.

---

## src Directory

Each subfolder under `src` corresponds to an experiment and contains the source files for the augmentation methods
introduced in that experiment.

### `src/experiment_2`

- `critic_human_like.py` – Binary classifier that evaluates utterance naturalness using:
  LLM-based classification prompt, simple "human"/"generated" discrimination.

- `human_utterance_generator.py` – Generator of new utterances based on answer from critic. Trying to generate new
  utterance for each real utterance.

### `src/experiment_3`

- `adversarial_generator_base.py` – A dual-phase generator that creates and filters synthetic utterances through:
    - Generation Phase:
        - Produces multiple candidate utterances per intent using few-shot prompting
        - Emphasizes diversity and natural language variation

    - Critique Phase:
        - Uses same LLM to select most human-like candidates
        - Implements self-adversarial quality control
        - Returns top-N utterances per intent

### `src/experiment_4`

- `base_critic_template.py` – Base chat template for using LLM-based critic. It can be used to construct critics
  providing different message templates.
- `english_critic_template.py` – Chat template for generating feedback on prompt that is being constructed to generate
  some additional examples for a given intent class. Uses english language. Based on BaseCriticTemplate.
- `base_prompt_generator.py` - Base chat template for using LLM-based prompt engineer. It can be used to construct
  prompt-engineers providing different message templates.
- `english_prompt_generator.py` - Chat template for automatic prompt generation for the task of generation of additional
  examples for the given intent. Uses english language. Based on BasePromptGeneratorTemplate.
- `critic_prompt_generator.py` - Generator of new utterances based on exiting ones using the prompt generated by
  LLM-based critic workflow. Uses EnglishCriticTemplate as critic template and EnglishPromptGeneratorTemplate as
  prompt-engineer template.

### `src/experiment_5`

- `xeger_template.py` – LLM prompt template for regex generation
- `xeger_generator.py` - Combines LLM-powered regex generation with Xeger sampling to: Generate diverse utterance
  patterns using semantic templates. Create multiple variations via regex expansion. Apply embedding-based clustering (
  Kmeans) for quality selectio. Filter near-duplicates using Levenshtein similarity
- `xeger_generator_base_gen.py` – The same as xeger_generator.py, But it uses a UtteranceGenerator to generate xeger
  templates, which allows to get a higher score.

### `src/experiment_6`

- `AllIntentGenerator.py` – Uses 2 consecutive LMS, one generates new utterances similar to a given class and unlike others,
   the second selects the best examples and generated ones.
